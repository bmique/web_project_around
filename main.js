!function(){"use strict";var e="",t=e+"ce69b4a9fb691a1c9046.svg",n=e+"717ae23a264d020be959.jpg";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}var u=function(){return e=function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._link=n,this._template=r,this._handleOpenImage=o},(t=[{key:"_getCloneFromTemplate",value:function(){return this._cardElement=this._template.cloneNode(!0).content.querySelector(".element"),this._setCardProperties(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._cardElement}},{key:"_setCardProperties",value:function(){this._cardImage=this._cardElement.querySelector(".element__image"),this._cardTitle=this._cardElement.querySelector(".element__name"),this._likeButton=this._cardElement.querySelector(".element__like-button"),this._removeButton=this._cardElement.querySelector(".element__remove")}},{key:"_handleLike",value:function(){this._like=this._likeButton.classList.toggle("element__like-heart")}},{key:"_handleRemoveCard",value:function(){this._removeCard=this._cardElement.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._cardImage.addEventListener("click",(function(){e._handleOpenImage(e._name,e._link)})),this._likeButton.addEventListener("click",(function(){e._handleLike()})),this._removeButton.addEventListener("click",(function(){e._handleRemoveCard()}))}},{key:"generateCard",value:function(){return this._getCloneFromTemplate(),this._setEventListeners(),this._cardElement}}])&&o(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}var s=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._formElement=t,this._settings=n,this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._buttonElement=this._formElement.querySelector(n.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))},(t=[{key:"_showInputError",value:function(e,t){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.add(this._inputErrorClass),this._errorElement.textContent=t,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(e){this._errorElement=this._formElement.querySelector(".".concat(e.id,"-error")),e.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.classList.add(this._inactiveButtonClass):this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){var e=this;this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._formElement.addEventListener("keydown",(function(t){"Enter"===t.key&&e._hasInvalidInput()&&t.preventDefault()})),this._setEventListeners()}}])&&l(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function m(e){var t=function(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}var y=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._selector=document.querySelector(n)},(t=[{key:"addItem",value:function(e){this._selector.prepend(e)}},{key:"render",value:function(){var e=this;this._items.forEach((function(t){e._renderer(t)}))}}])&&p(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function b(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}var d=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this),this.open=this.open.bind(this),this._handleContain=this._handleContain.bind(this)},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this.setEventListeners()}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleContain)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"_handleContain",value:function(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__button-close"))&&this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("click",this._handleContain)}}])&&v(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function S(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}function w(e,t,n){return t=j(t),function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,g()?Reflect.construct(t,n||[],j(e).constructor):t.apply(e,n))}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}var O=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=w(this,t,[e]))._formSubmitHandler=n,r._form=r._popupElement.querySelector(".popup__form"),r._handleSubmitEdit=r.handleSubmitEdit.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),n=t,(r=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._form.querySelectorAll("input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"handleSubmitEdit",value:function(e){e.preventDefault(),this._formSubmitHandler(this._getInputValues(),"edit"),this.close()}},{key:"setEventListeners",value:function(){k(j(t.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._handleSubmitEdit)}},{key:"open",value:function(){k(j(t.prototype),"open",this).call(this)}},{key:"close",value:function(){k(j(t.prototype),"close",this).call(this),this._form.reset()}}])&&E(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(d);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function B(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}function I(e,t,n){return t=R(t),function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,q()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function(){return!!e})()}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},T.apply(this,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}var x=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),I(this,t,[e])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e,n){T(R(t.prototype),"open",this).call(this);var r=document.querySelector("#popup-image"),o=r.querySelector(".popup__image-view"),i=r.querySelector(".popup__title-image");o.src=n,o.alt=e,i.textContent=e}},{key:"close",value:function(){T(R(t.prototype),"close",this).call(this)}}])&&L(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(d);function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==D(t)?t:t+""}var U=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r)},(t=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.job;this._nameElement.textContent=t,this._jobElement.textContent=n}}])&&z(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();document.getElementById("profile-img").src=n,document.getElementById("logo").src=t;var A=document.querySelector(".profile__edit-button"),F=document.querySelector("#input-name"),H=document.querySelector("#input-about"),M=document.querySelector(".template-card"),N=document.querySelector(".profile__add-button"),Y=new U({nameSelector:".profile__name",jobSelector:".profile__info"}),G=new x("#popup-image"),J=document.querySelector("#popup_form-profile"),K=document.querySelector(".popup__form-add"),Q={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};new s(J,Q).enableValidation(),new s(K,Q).enableValidation();var X=new y({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"Montañas Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(e){var t=new u(e.name,e.link,M,(function(){return G.open(e.name,e.link)})).generateCard();X.addItem(t)}},".elements");function Z(e,t){if("edit"===t)Y.setUserInfo({name:F.value,job:H.value});else if("add"===t){var n=new u(e.name,e.link,M,G.open).generateCard();X.addItem(n)}}X.render();var $=new O("#popup-profile",(function(e){return Z(e,"edit")})),ee=new O("#popup-add-card",(function(e){return Z(e,"add")}));$.setEventListeners(),ee.setEventListeners(),A.addEventListener("click",(function(){var e=Y.getUserInfo();F.value=e.name,H.value=e.job,$.open()})),N.addEventListener("click",ee.open)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IobmFtZSwgbGluaywgdGVtcGxhdGUsIGhhbmRsZU9wZW5JbWFnZSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcblxyXG4gICAgdGhpcy5faGFuZGxlT3BlbkltYWdlID0gaGFuZGxlT3BlbkltYWdlO1xyXG4gIH1cclxuXHJcbiAgX2dldENsb25lRnJvbVRlbXBsYXRlKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl90ZW1wbGF0ZVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKTtcclxuICAgIHRoaXMuX3NldENhcmRQcm9wZXJ0aWVzKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0Q2FyZFByb3BlcnRpZXMoKSB7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19uYW1lXCIpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9yZW1vdmVCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX3JlbW92ZVwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlKCkge1xyXG4gICAgdGhpcy5fbGlrZSA9IHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImVsZW1lbnRfX2xpa2UtaGVhcnRcIik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlUmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3JlbW92ZUNhcmQgPSB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVPcGVuSW1hZ2UodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2UoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVSZW1vdmVDYXJkKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2dldENsb25lRnJvbVRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtRWxlbWVudCwgc2V0dGluZ3MpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgdGhpcy5fZm9ybVNlbGVjdG9yID0gc2V0dGluZ3MuZm9ybVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IHNldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3M7XHJcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XHJcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvclxyXG4gICAgKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYFxyXG4gICAgKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XHJcbiAgICB0aGlzLl9lcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xyXG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChlbGVtZW50KSA9PiB7XHJcbiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoZWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5rZXkgPT09IFwiRW50ZXJcIiAmJiB0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIHNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX3NlbGVjdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGUpIHtcclxuICAgIHRoaXMuX3NlbGVjdG9yLnByZXBlbmQoZSk7XHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGUpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gICAgdGhpcy5vcGVuID0gdGhpcy5vcGVuLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVDb250YWluID0gdGhpcy5faGFuZGxlQ29udGFpbi5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ29udGFpbik7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlQ29udGFpbihldnQpIHtcclxuICAgIGlmIChcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9vcGVuZWRcIikgfHxcclxuICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwb3B1cF9fYnV0dG9uLWNsb3NlXCIpXHJcbiAgICApIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNvbnRhaW4pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgZm9ybVN1Ym1pdEhhbmRsZXIpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIgPSBmb3JtU3VibWl0SGFuZGxlcjtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEVkaXQgPSB0aGlzLmhhbmRsZVN1Ym1pdEVkaXQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO1xyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXRFZGl0KGV2dCkge1xyXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlcih0aGlzLl9nZXRJbnB1dFZhbHVlcygpLCBcImVkaXRcIik7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICAvLyBoYW5kbGVTdWJtaXRBZGQoZXZ0KSB7XHJcbiAgLy8gICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAvLyAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCksIFwiYWRkXCIpO1xyXG4gIC8vICAgdGhpcy5jbG9zZSgpO1xyXG4gIC8vIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdEVkaXQpO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIG9wZW4obmFtZSwgbGluaykge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gICAgY29uc3QgcG9wdXBJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtaW1hZ2VcIik7XHJcbiAgICBjb25zdCBwb3B1cEltYWdlVmlldyA9IHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2Utdmlld1wiKTtcclxuICAgIGNvbnN0IHBvcHVwVGl0bGUgPSBwb3B1cEltYWdlLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX3RpdGxlLWltYWdlXCIpO1xyXG5cclxuICAgIHBvcHVwSW1hZ2VWaWV3LnNyYyA9IGxpbms7XHJcbiAgICBwb3B1cEltYWdlVmlldy5hbHQgPSBuYW1lO1xyXG4gICAgcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYjtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IGxvZ29TcmMgZnJvbSBcIi4uL2ltYWdlcy9fX2xvZ28uc3ZnXCI7XHJcbmltcG9ydCBwcm9maWxlU3JjIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2VfX3Byb2ZpbGUuanBnXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5cclxuY29uc3QgcHJvZmlsZUltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZS1pbWdcIik7XHJcbnByb2ZpbGVJbWcuc3JjID0gcHJvZmlsZVNyYztcclxuY29uc3QgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb1wiKTtcclxubG9nby5zcmMgPSBsb2dvU3JjO1xyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtbmFtZVwiKTtcclxuY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LWFib3V0XCIpO1xyXG5jb25zdCB0ZW1wbGF0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbXBsYXRlLWNhcmRcIik7XHJcbmNvbnN0IHByb2ZpbGVBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcblxyXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJWYWxsZSBkZSBZb3NlbWl0ZVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFrZS1sb3Vpc2UuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vbnRhw7FhcyBDYWx2YXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhdGVtYXJcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxyXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19pbmZvXCIsXHJcbn0pO1xyXG5cclxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcG9wdXAtaW1hZ2VcIik7XHJcblxyXG5jb25zdCBmb3JtRWxlbWVudFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BvcHVwX2Zvcm0tcHJvZmlsZVwiKTtcclxuY29uc3QgZm9ybUVsZW1lbnRDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybS1hZGRcIik7XHJcblxyXG4vL3ZhbGlkYXRpb25cclxuY29uc3Qgc2V0dGluZ3MgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJwb3B1cF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVGb3JtID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnRQcm9maWxlLCBzZXR0aW5ncyk7XHJcbnZhbGlkYXRlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUZvcm1DYXJkID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUVsZW1lbnRDYXJkLCBzZXR0aW5ncyk7XHJcbnZhbGlkYXRlRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy9DYXJkc1xyXG5jb25zdCBzZWN0aW9uQ2FyZHMgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRUZXN0ID0gbmV3IENhcmQoaXRlbS5uYW1lLCBpdGVtLmxpbmssIHRlbXBsYXRlQ2FyZCwgKCkgPT5cclxuICAgICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuKGl0ZW0ubmFtZSwgaXRlbS5saW5rKVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmRUZXN0LmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgICBzZWN0aW9uQ2FyZHMuYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgXCIuZWxlbWVudHNcIlxyXG4pO1xyXG5cclxuc2VjdGlvbkNhcmRzLnJlbmRlcigpO1xyXG5cclxuZnVuY3Rpb24gZm9ybVN1Ym1pdEhhbmRsZXIoZm9ybVZhbHVlcywgYWN0aW9uKSB7XHJcbiAgaWYgKGFjdGlvbiA9PT0gXCJlZGl0XCIpIHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogbmFtZUlucHV0LnZhbHVlLCBqb2I6IGpvYklucHV0LnZhbHVlIH0pO1xyXG4gIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcImFkZFwiKSB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIGZvcm1WYWx1ZXNbXCJuYW1lXCJdLFxyXG4gICAgICBmb3JtVmFsdWVzW1wibGlua1wiXSxcclxuICAgICAgdGVtcGxhdGVDYXJkLFxyXG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuXHJcbiAgICApLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgc2VjdGlvbkNhcmRzLmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgfVxyXG59XHJcblxyXG4vL3BvcHVwV2l0aEZvcm1cclxuY29uc3QgcG9wdXBXaXRoRm9ybUVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwb3B1cC1wcm9maWxlXCIsIChmb3JtVmFsdWVzKSA9PlxyXG4gIGZvcm1TdWJtaXRIYW5kbGVyKGZvcm1WYWx1ZXMsIFwiZWRpdFwiKVxyXG4pO1xyXG5jb25zdCBwb3B1cFdpdGhGb3JtQWRkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtYWRkLWNhcmRcIiwgKGZvcm1WYWx1ZXMpID0+XHJcbiAgZm9ybVN1Ym1pdEhhbmRsZXIoZm9ybVZhbHVlcywgXCJhZGRcIilcclxuKTtcclxuXHJcbnBvcHVwV2l0aEZvcm1FZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbnBvcHVwV2l0aEZvcm1BZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbnByb2ZpbGVFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLm5hbWU7XHJcbiAgam9iSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5qb2I7XHJcblxyXG4gIHBvcHVwV2l0aEZvcm1FZGl0Lm9wZW4oKTtcclxufSk7XHJcblxyXG5wcm9maWxlQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwb3B1cFdpdGhGb3JtQWRkLm9wZW4pO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIkNhcmQiLCJuYW1lIiwibGluayIsInRlbXBsYXRlIiwiaGFuZGxlT3BlbkltYWdlIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfdGVtcGxhdGUiLCJfaGFuZGxlT3BlbkltYWdlIiwia2V5IiwidmFsdWUiLCJfY2FyZEVsZW1lbnQiLCJjbG9uZU5vZGUiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsIl9zZXRDYXJkUHJvcGVydGllcyIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJfY2FyZFRpdGxlIiwidGV4dENvbnRlbnQiLCJfbGlrZUJ1dHRvbiIsIl9yZW1vdmVCdXR0b24iLCJfbGlrZSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIl9yZW1vdmVDYXJkIiwicmVtb3ZlIiwiX3RoaXMiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2UiLCJfaGFuZGxlUmVtb3ZlQ2FyZCIsIl9nZXRDbG9uZUZyb21UZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtRWxlbWVudCIsInNldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1TZWxlY3RvciIsImZvcm1TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJfZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJhZGQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsImZvckVhY2giLCJlbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl90aGlzMiIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiU2VjdGlvbiIsIl9yZWYiLCJzZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfc2VsZWN0b3IiLCJkb2N1bWVudCIsImUiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJvcGVuIiwiX2hhbmRsZUNvbnRhaW4iLCJzZXRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsImZvcm1TdWJtaXRIYW5kbGVyIiwiX2NhbGxTdXBlciIsIl9mb3JtU3VibWl0SGFuZGxlciIsIl9mb3JtIiwiX2hhbmRsZVN1Ym1pdEVkaXQiLCJoYW5kbGVTdWJtaXRFZGl0IiwiX2luaGVyaXRzIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJjYWxsIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsInBvcHVwSW1hZ2UiLCJwb3B1cEltYWdlVmlldyIsInBvcHVwVGl0bGUiLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJqb2IiLCJfcmVmMiIsImdldEVsZW1lbnRCeUlkIiwicHJvZmlsZVNyYyIsImxvZ29TcmMiLCJwcm9maWxlRWRpdEJ1dHRvbiIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwidGVtcGxhdGVDYXJkIiwicHJvZmlsZUFkZEJ1dHRvbiIsInVzZXJJbmZvIiwicG9wdXBXaXRoSW1hZ2UiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJmb3JtRWxlbWVudENhcmQiLCJlbmFibGVWYWxpZGF0aW9uIiwic2VjdGlvbkNhcmRzIiwiaXRlbSIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsImZvcm1WYWx1ZXMiLCJhY3Rpb24iLCJzZXRVc2VySW5mbyIsIm5ld0NhcmQiLCJyZW5kZXIiLCJwb3B1cFdpdGhGb3JtRWRpdCIsInBvcHVwV2l0aEZvcm1BZGQiLCJ1c2VyRGF0YSIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==