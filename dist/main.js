!function(){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,n(o.key),o)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}var r=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._link=n,this._template=r,this._handleOpenImage=o},(n=[{key:"_getCloneFromTemplate",value:function(){return this._cardElement=this._template.cloneNode(!0).content.querySelector(".element"),this._setCardProperties(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._cardElement}},{key:"_setCardProperties",value:function(){this._cardImage=this._cardElement.querySelector(".element__image"),this._cardTitle=this._cardElement.querySelector(".element__name"),this._likeButton=this._cardElement.querySelector(".element__like-button"),this._removeButton=this._cardElement.querySelector(".element__remove")}},{key:"_handleLike",value:function(){this._like=this._likeButton.classList.toggle("element__like-heart")}},{key:"_handleRemoveCard",value:function(){this._removeCard=this._cardElement.remove()}},{key:"_setEventListeners",value:function(){var t=this;this._cardImage.addEventListener("click",(function(){t._handleOpenImage(t._name,t._link)})),this._likeButton.addEventListener("click",(function(){t._handleLike()})),this._removeButton.addEventListener("click",(function(){t._handleRemoveCard()}))}},{key:"generateCard",value:function(){return this._getCloneFromTemplate(),this._setEventListeners(),this._cardElement}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}var a=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._formElement=e,this._settings=n,this._formSelector=n.formSelector,this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._buttonElement=this._formElement.querySelector(n.submitButtonSelector),this._inputList=Array.from(this._formElement.querySelectorAll(this._inputSelector))},(e=[{key:"_showInputError",value:function(t,e){this._errorElement=this._formElement.querySelector(".".concat(t.id,"-error")),t.classList.add(this._inputErrorClass),this._errorElement.textContent=e,this._errorElement.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){this._errorElement=this._formElement.querySelector(".".concat(t.id,"-error")),t.classList.remove(this._inputErrorClass),this._errorElement.classList.remove(this._errorClass),this._errorElement.textContent=""}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t,t.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this._buttonElement.classList.add(this._inactiveButtonClass):this._buttonElement.classList.remove(this._inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){var t=this;this._formElement.addEventListener("submit",(function(t){t.preventDefault()})),this._formElement.addEventListener("keydown",(function(e){"Enter"===e.key&&t._hasInvalidInput()&&e.preventDefault()})),this._setEventListeners()}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}var f=function(){return t=function t(e,n){var r=e.items,o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._items=r,this._renderer=o,this._selector=document.querySelector(n)},(e=[{key:"addItem",value:function(t){this._selector.prepend(t)}},{key:"render",value:function(){var t=this;this._items.forEach((function(e){t._renderer(e)}))}}])&&c(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y(r.key),r)}}function y(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==p(e)?e:e+""}var h=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this.open=this.open.bind(this),this._handleContain=this._handleContain.bind(this)},(e=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose),this.setEventListeners()}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose),this._popupElement.removeEventListener("click",this._handleContain)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"_handleContain",value:function(t){(t.target.classList.contains("popup_opened")||t.target.classList.contains("popup__button-close"))&&this.close()}},{key:"setEventListeners",value:function(){this._popupElement.addEventListener("click",this._handleContain)}}])&&m(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_(r.key),r)}}function _(t){var e=function(t,e){if("object"!=v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==v(e)?e:e+""}function d(t,e,n){return e=w(e),function(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,E()?Reflect.construct(e,n||[],w(t).constructor):e.apply(t,n))}function E(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(E=function(){return!!t})()}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},S.apply(this,arguments)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}var k=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=d(this,e,[t]))._formSubmitHandler=n,r._form=r._popupElement.querySelector(".popup__form"),r._handleSubmitEdit=r.handleSubmitEdit.bind(r),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(e,t),n=e,(r=[{key:"_getInputValues",value:function(){var t=this;return this._inputList=this._form.querySelectorAll("input"),this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"handleSubmitEdit",value:function(t){t.preventDefault(),this._formSubmitHandler(this._getInputValues(),"edit"),this.close()}},{key:"setEventListeners",value:function(){S(w(e.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._handleSubmitEdit)}},{key:"open",value:function(){S(w(e.prototype),"open",this).call(this)}},{key:"close",value:function(){S(w(e.prototype),"close",this).call(this),this._form.reset()}}])&&b(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(h);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O(r.key),r)}}function O(t){var e=function(t,e){if("object"!=j(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==j(e)?e:e+""}function P(t,e,n){return e=I(e),function(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,n||[],I(t).constructor):e.apply(t,n))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function B(){return B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},B.apply(this,arguments)}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function q(t,e){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},q(t,e)}var T=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),P(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(e,t),n=e,(r=[{key:"open",value:function(t,n){B(I(e.prototype),"open",this).call(this);var r=document.querySelector("#popup-image"),o=r.querySelector(".popup__image-view"),i=r.querySelector(".popup__title-image");o.src=n,o.alt=t,i.textContent=t}},{key:"close",value:function(){B(I(e.prototype),"close",this).call(this)}}])&&C(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(h);function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,x(r.key),r)}}function x(t){var e=function(t,e){if("object"!=R(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==R(e)?e:e+""}var D=function(){return t=function t(e){var n=e.nameSelector,r=e.jobSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._nameElement=document.querySelector(n),this._jobElement=document.querySelector(r)},(e=[{key:"getUserInfo",value:function(){return{name:this._nameElement.textContent,job:this._jobElement.textContent}}},{key:"setUserInfo",value:function(t){var e=t.name,n=t.job;this._nameElement.textContent=e,this._jobElement.textContent=n}}])&&V(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}(),z=document.querySelector(".profile__edit-button"),W=document.querySelector("#input-name"),U=document.querySelector("#input-about"),A=document.querySelector(".template-card"),F=document.querySelector(".profile__add-button"),H=new D({nameSelector:".profile__name",jobSelector:".profile__info"}),M=new T("#popup-image"),N=document.querySelector("#popup_form-profile"),Y=document.querySelector(".popup__form-add"),G={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"};new a(N,G).enableValidation(),new a(Y,G).enableValidation();var J=new f({items:[{name:"Valle de Yosemite",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/yosemite.jpg"},{name:"Lago Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lake-louise.jpg"},{name:"MontaÃ±as Calvas",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/latemar.jpg"},{name:"Parque Nacional de la Vanoise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/new-markets/WEB_sprint_5/ES/lago.jpg"}],renderer:function(t){var e=new r(t.name,t.link,A,(function(){return M.open(t.name,t.link)})).generateCard();J.addItem(e)}},".elements");function K(t,e){if("edit"===e)H.setUserInfo({name:W.value,job:U.value});else if("add"===e){var n=new r(t.name,t.link,A,M.open).generateCard();J.addItem(n)}}J.render();var Q=new k("#popup-profile",(function(t){return K(t,"edit")})),X=new k("#popup-add-card",(function(t){return K(t,"add")}));Q.setEventListeners(),X.setEventListeners(),z.addEventListener("click",(function(){var t=H.getUserInfo();W.value=t.name,U.value=t.job,Q.open()})),F.addEventListener("click",X.open)}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDTkMsS0FBTSxnR0FFUixDQUNFRCxLQUFNLGlCQUNOQyxLQUFNLDhGQWtDTmdGLFNBQVUsU0FBQzBELEdBQ1QsSUFHTUMsRUFIVyxJQUFJN0ksRUFBSzRJLEVBQUszSSxLQUFNMkksRUFBSzFJLEtBQU1rSSxHQUFjLGtCQUM1REcsRUFBZXpDLEtBQUs4QyxFQUFLM0ksS0FBTTJJLEVBQUsxSSxLQUFLLElBRWQ0SSxlQUM3QkgsRUFBYUksUUFBUUYsRUFDdkIsR0FFRixhQUtGLFNBQVN0QyxFQUFrQnlDLEVBQVlDLEdBQ3JDLEdBQWUsU0FBWEEsRUFDRlgsRUFBU1ksWUFBWSxDQUFFakosS0FBTWlJLEVBQVV0SCxNQUFPbUgsSUFBS0ksRUFBU3ZILGFBQ3ZELEdBQWUsUUFBWHFJLEVBQWtCLENBQzNCLElBQU1FLEVBQVUsSUFBSW5KLEVBQ2xCZ0osRUFBaUIsS0FDakJBLEVBQWlCLEtBQ2pCWixFQUNBRyxFQUFlekMsTUFDZmdELGVBQ0ZILEVBQWFJLFFBQVFJLEVBQ3ZCLENBQ0YsQ0FkQVIsRUFBYVMsU0FpQmIsSUFBTUMsRUFBb0IsSUFBSWhELEVBQWMsa0JBQWtCLFNBQUMyQyxHQUFVLE9BQ3ZFekMsRUFBa0J5QyxFQUFZLE9BQU8sSUFFakNNLEVBQW1CLElBQUlqRCxFQUFjLG1CQUFtQixTQUFDMkMsR0FBVSxPQUN2RXpDLEVBQWtCeUMsRUFBWSxNQUFNLElBR3RDSyxFQUFrQnJELG9CQUNsQnNELEVBQWlCdEQsb0JBRWpCaUMsRUFBa0JsRyxpQkFBaUIsU0FBUyxXQUMxQyxJQUFNd0gsRUFBV2pCLEVBQVNrQixjQUMxQnRCLEVBQVV0SCxNQUFRMkksRUFBU3RKLEtBQzNCa0ksRUFBU3ZILE1BQVEySSxFQUFTeEIsSUFFMUJzQixFQUFrQnZELE1BQ3BCLElBRUF1QyxFQUFpQnRHLGlCQUFpQixRQUFTdUgsRUFBaUJ4RCxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc2NyaXB0cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zY3JpcHRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc2NyaXB0cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBsaW5rLCB0ZW1wbGF0ZSwgaGFuZGxlT3BlbkltYWdlKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBsaW5rO1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSB0ZW1wbGF0ZTtcclxuXHJcbiAgICB0aGlzLl9oYW5kbGVPcGVuSW1hZ2UgPSBoYW5kbGVPcGVuSW1hZ2U7XHJcbiAgfVxyXG5cclxuICBfZ2V0Q2xvbmVGcm9tVGVtcGxhdGUoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX3RlbXBsYXRlXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50XCIpO1xyXG4gICAgdGhpcy5fc2V0Q2FyZFByb3BlcnRpZXMoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zZXRDYXJkUHJvcGVydGllcygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1hZ2VcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX25hbWVcIik7XHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiKTtcclxuICAgIHRoaXMuX3JlbW92ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fcmVtb3ZlXCIpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlID0gdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZWxlbWVudF9fbGlrZS1oZWFydFwiKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVSZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fcmVtb3ZlQ2FyZCA9IHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZU9wZW5JbWFnZSh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlTGlrZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcmVtb3ZlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVJlbW92ZUNhcmQoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZ2V0Q2xvbmVGcm9tVGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1FbGVtZW50LCBzZXR0aW5ncykge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX3NldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICB0aGlzLl9mb3JtU2VsZWN0b3IgPSBzZXR0aW5ncy5mb3JtU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3I7XHJcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBzZXR0aW5ncy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXHJcbiAgICApO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgXHJcbiAgICApO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIHRoaXMuX2Vycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgdGhpcy5fZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGVsZW1lbnQpID0+IHtcclxuICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShlbGVtZW50KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LmtleSA9PT0gXCJFbnRlclwiICYmIHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XHJcbiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgc2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fc2VsZWN0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZSkge1xyXG4gICAgdGhpcy5fc2VsZWN0b3IucHJlcGVuZChlKTtcclxuICB9XHJcblxyXG4gIHJlbmRlcigpIHtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGUpID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoZSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcclxuICAgIHRoaXMuX2hhbmRsZUNvbnRhaW4gPSB0aGlzLl9oYW5kbGVDb250YWluLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDb250YWluKTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYW5kbGVDb250YWluKGV2dCkge1xyXG4gICAgaWYgKFxyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX29wZW5lZFwiKSB8fFxyXG4gICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19idXR0b24tY2xvc2VcIilcclxuICAgICkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ29udGFpbik7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBmb3JtU3VibWl0SGFuZGxlcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0SGFuZGxlciA9IGZvcm1TdWJtaXRIYW5kbGVyO1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0RWRpdCA9IHRoaXMuaGFuZGxlU3VibWl0RWRpdC5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiaW5wdXRcIik7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIGhhbmRsZVN1Ym1pdEVkaXQoZXZ0KSB7XHJcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXRIYW5kbGVyKHRoaXMuX2dldElucHV0VmFsdWVzKCksIFwiZWRpdFwiKTtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIC8vIGhhbmRsZVN1Ym1pdEFkZChldnQpIHtcclxuICAvLyAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIC8vICAgdGhpcy5fZm9ybVN1Ym1pdEhhbmRsZXIodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSwgXCJhZGRcIik7XHJcbiAgLy8gICB0aGlzLmNsb3NlKCk7XHJcbiAgLy8gfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlU3VibWl0RWRpdCk7XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgc3VwZXIub3BlbigpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICBjb25zdCBwb3B1cEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cC1pbWFnZVwiKTtcclxuICAgIGNvbnN0IHBvcHVwSW1hZ2VWaWV3ID0gcG9wdXBJbWFnZS5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWFnZS12aWV3XCIpO1xyXG4gICAgY29uc3QgcG9wdXBUaXRsZSA9IHBvcHVwSW1hZ2UucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fdGl0bGUtaW1hZ2VcIik7XHJcblxyXG4gICAgcG9wdXBJbWFnZVZpZXcuc3JjID0gbGluaztcclxuICAgIHBvcHVwSW1hZ2VWaWV3LmFsdCA9IG5hbWU7XHJcbiAgICBwb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQsXHJcbiAgICAgIGpvYjogdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGpvYiB9KSB7XHJcbiAgICB0aGlzLl9uYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2JFbGVtZW50LnRleHRDb250ZW50ID0gam9iO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vc2NyaXB0cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vc2NyaXB0cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vc2NyaXB0cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL3NjcmlwdHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xuXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LW5hbWVcIik7XG5jb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtYWJvdXRcIik7XG5jb25zdCB0ZW1wbGF0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRlbXBsYXRlLWNhcmRcIik7XG5jb25zdCBwcm9maWxlQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xuXG5jb25zdCBpbml0aWFsQ2FyZHMgPSBbXG4gIHtcbiAgICBuYW1lOiBcIlZhbGxlIGRlIFlvc2VtaXRlXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy95b3NlbWl0ZS5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGFnbyBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL2xha2UtbG91aXNlLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb250YcOxYXMgQ2FsdmFzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9iYWxkLW1vdW50YWlucy5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9uZXctbWFya2V0cy9XRUJfc3ByaW50XzUvRVMvbGF0ZW1hci5qcGdcIixcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiUGFycXVlIE5hY2lvbmFsIGRlIGxhIFZhbm9pc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vbmV3LW1hcmtldHMvV0VCX3NwcmludF81L0VTL3Zhbm9pc2UuanBnXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL25ldy1tYXJrZXRzL1dFQl9zcHJpbnRfNS9FUy9sYWdvLmpwZ1wiLFxuICB9LFxuXTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xuICBuYW1lU2VsZWN0b3I6IFwiLnByb2ZpbGVfX25hbWVcIixcbiAgam9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm9cIixcbn0pO1xuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1pbWFnZVwiKTtcblxuY29uc3QgZm9ybUVsZW1lbnRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3B1cF9mb3JtLXByb2ZpbGVcIik7XG5jb25zdCBmb3JtRWxlbWVudENhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtLWFkZFwiKTtcblxuLy92YWxpZGF0aW9uXG5jb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5jb25zdCB2YWxpZGF0ZUZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudFByb2ZpbGUsIHNldHRpbmdzKTtcbnZhbGlkYXRlRm9ybS5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHZhbGlkYXRlRm9ybUNhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtRWxlbWVudENhcmQsIHNldHRpbmdzKTtcbnZhbGlkYXRlRm9ybUNhcmQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vL0NhcmRzXG5jb25zdCBzZWN0aW9uQ2FyZHMgPSBuZXcgU2VjdGlvbihcbiAge1xuICAgIGl0ZW1zOiBpbml0aWFsQ2FyZHMsXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBjYXJkVGVzdCA9IG5ldyBDYXJkKGl0ZW0ubmFtZSwgaXRlbS5saW5rLCB0ZW1wbGF0ZUNhcmQsICgpID0+XG4gICAgICAgIHBvcHVwV2l0aEltYWdlLm9wZW4oaXRlbS5uYW1lLCBpdGVtLmxpbmspXG4gICAgICApO1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVzdC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgIHNlY3Rpb25DYXJkcy5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICB9LFxuICB9LFxuICBcIi5lbGVtZW50c1wiXG4pO1xuXG5zZWN0aW9uQ2FyZHMucmVuZGVyKCk7XG5cbmZ1bmN0aW9uIGZvcm1TdWJtaXRIYW5kbGVyKGZvcm1WYWx1ZXMsIGFjdGlvbikge1xuICBpZiAoYWN0aW9uID09PSBcImVkaXRcIikge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHsgbmFtZTogbmFtZUlucHV0LnZhbHVlLCBqb2I6IGpvYklucHV0LnZhbHVlIH0pO1xuICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZChcbiAgICAgIGZvcm1WYWx1ZXNbXCJuYW1lXCJdLFxuICAgICAgZm9ybVZhbHVlc1tcImxpbmtcIl0sXG4gICAgICB0ZW1wbGF0ZUNhcmQsXG4gICAgICBwb3B1cFdpdGhJbWFnZS5vcGVuXG4gICAgKS5nZW5lcmF0ZUNhcmQoKTtcbiAgICBzZWN0aW9uQ2FyZHMuYWRkSXRlbShuZXdDYXJkKTtcbiAgfVxufVxuXG4vL3BvcHVwV2l0aEZvcm1cbmNvbnN0IHBvcHVwV2l0aEZvcm1FZGl0ID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtcHJvZmlsZVwiLCAoZm9ybVZhbHVlcykgPT5cbiAgZm9ybVN1Ym1pdEhhbmRsZXIoZm9ybVZhbHVlcywgXCJlZGl0XCIpXG4pO1xuY29uc3QgcG9wdXBXaXRoRm9ybUFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLWFkZC1jYXJkXCIsIChmb3JtVmFsdWVzKSA9PlxuICBmb3JtU3VibWl0SGFuZGxlcihmb3JtVmFsdWVzLCBcImFkZFwiKVxuKTtcblxucG9wdXBXaXRoRm9ybUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnBvcHVwV2l0aEZvcm1BZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgdXNlckRhdGEgPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSB1c2VyRGF0YS5uYW1lO1xuICBqb2JJbnB1dC52YWx1ZSA9IHVzZXJEYXRhLmpvYjtcblxuICBwb3B1cFdpdGhGb3JtRWRpdC5vcGVuKCk7XG59KTtcblxucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcG9wdXBXaXRoRm9ybUFkZC5vcGVuKTtcbiJdLCJuYW1lcyI6WyJDYXJkIiwibmFtZSIsImxpbmsiLCJ0ZW1wbGF0ZSIsImhhbmRsZU9wZW5JbWFnZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIl9saW5rIiwiX3RlbXBsYXRlIiwiX2hhbmRsZU9wZW5JbWFnZSIsImtleSIsInZhbHVlIiwiX2NhcmRFbGVtZW50IiwiY2xvbmVOb2RlIiwiY29udGVudCIsInF1ZXJ5U2VsZWN0b3IiLCJfc2V0Q2FyZFByb3BlcnRpZXMiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2NhcmRUaXRsZSIsInRleHRDb250ZW50IiwiX2xpa2VCdXR0b24iLCJfcmVtb3ZlQnV0dG9uIiwiX2xpa2UiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfcmVtb3ZlQ2FyZCIsInJlbW92ZSIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlIiwiX2hhbmRsZVJlbW92ZUNhcmQiLCJfZ2V0Q2xvbmVGcm9tVGVtcGxhdGUiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJzZXR0aW5ncyIsIl9mb3JtRWxlbWVudCIsIl9zZXR0aW5ncyIsIl9mb3JtU2VsZWN0b3IiLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfYnV0dG9uRWxlbWVudCIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiX2Vycm9yRWxlbWVudCIsImNvbmNhdCIsImlkIiwiYWRkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJmb3JFYWNoIiwiZWxlbWVudCIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfdGhpczIiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJfcmVmIiwic2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX3NlbGVjdG9yIiwiZG9jdW1lbnQiLCJlIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsIl9oYW5kbGVDb250YWluIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJfUG9wdXAiLCJmb3JtU3VibWl0SGFuZGxlciIsIl9jYWxsU3VwZXIiLCJfZm9ybVN1Ym1pdEhhbmRsZXIiLCJfZm9ybSIsIl9oYW5kbGVTdWJtaXRFZGl0IiwiaGFuZGxlU3VibWl0RWRpdCIsIl9pbmhlcml0cyIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FsbCIsInJlc2V0IiwiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cEltYWdlIiwicG9wdXBJbWFnZVZpZXciLCJwb3B1cFRpdGxlIiwiVXNlckluZm8iLCJuYW1lU2VsZWN0b3IiLCJqb2JTZWxlY3RvciIsIl9uYW1lRWxlbWVudCIsIl9qb2JFbGVtZW50Iiwiam9iIiwiX3JlZjIiLCJwcm9maWxlRWRpdEJ1dHRvbiIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwidGVtcGxhdGVDYXJkIiwicHJvZmlsZUFkZEJ1dHRvbiIsInVzZXJJbmZvIiwicG9wdXBXaXRoSW1hZ2UiLCJmb3JtRWxlbWVudFByb2ZpbGUiLCJmb3JtRWxlbWVudENhcmQiLCJlbmFibGVWYWxpZGF0aW9uIiwic2VjdGlvbkNhcmRzIiwiaXRlbSIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsImZvcm1WYWx1ZXMiLCJhY3Rpb24iLCJzZXRVc2VySW5mbyIsIm5ld0NhcmQiLCJyZW5kZXIiLCJwb3B1cFdpdGhGb3JtRWRpdCIsInBvcHVwV2l0aEZvcm1BZGQiLCJ1c2VyRGF0YSIsImdldFVzZXJJbmZvIl0sInNvdXJjZVJvb3QiOiIifQ==